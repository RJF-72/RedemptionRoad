<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOTA Professional Synthesizer - Licensed Software</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(145deg, #0a0a0f 0%, #1a1a2e 20%, #16213e 40%, #0f3460 60%, #1a1a2e 80%, #0a0a0f 100%);
            color: #ffffff;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }
        
        /* üé® 8K PHOTO-REALISTIC BACKGROUND */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 20%, rgba(255,215,0,0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255,140,0,0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 70%, rgba(138,43,226,0.08) 0%, transparent 50%),
                linear-gradient(135deg, rgba(0,0,0,0.8) 0%, rgba(26,26,46,0.9) 50%, rgba(0,0,0,0.8) 100%);
            backdrop-filter: blur(100px);
            z-index: -1;
        }
        
        /* üè† NAVIGATION HEADER */
        .navigation-header {
            background: linear-gradient(135deg, rgba(0,0,0,0.95) 0%, rgba(26,26,46,0.95) 100%);
            backdrop-filter: blur(40px);
            border-bottom: 3px solid rgba(255,215,0,0.6);
            padding: 20px 40px;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 10px 50px rgba(0,0,0,0.5);
        }
        
        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1920px;
            margin: 0 auto;
        }
        
        .nav-left {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .nav-hub-btn {
            background: linear-gradient(135deg, #FFD700 0%, #FF8C00 100%);
            border: none;
            border-radius: 12px;
            padding: 12px 20px;
            color: #000;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            text-decoration: none;
        }
        
        .nav-hub-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255,215,0,0.4);
        }
        
        .nav-title-section {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .nav-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #FFD700 0%, #FF8C00 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 0 30px rgba(255,215,0,0.4);
        }
        
        .nav-title {
            font-size: 28px;
            font-weight: 700;
            background: linear-gradient(135deg, #FFD700 0%, #FF8C00 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 0;
        }
        
        .nav-subtitle {
            font-size: 14px;
            color: rgba(255,255,255,0.8);
            margin: 0;
            letter-spacing: 1px;
            text-transform: uppercase;
        }
        
        .nav-right {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .license-badge {
            padding: 10px 20px;
            background: rgba(220,20,60,0.1);
            border: 2px solid rgba(220,20,60,0.6);
            border-radius: 8px;
            color: #DC143C;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .license-btn {
            background: transparent;
            border: 2px solid #FFD700;
            border-radius: 8px;
            padding: 8px 16px;
            color: #FFD700;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
        }
        
        .license-btn:hover {
            background: rgba(255,215,0,0.1);
        }
        
        /* üéπ SYNTHESIZER INTERFACE */
        .synth-container {
            max-width: 1920px;
            margin: 0 auto;
            padding: 40px;
            display: grid;
            grid-template-areas:
                "controls controls controls"
                "keyboard keyboard effects"
                "voice-ai composition mixer";
            grid-template-columns: 1fr 1fr 400px;
            grid-template-rows: auto 1fr auto;
            gap: 30px;
            min-height: calc(100vh - 200px);
        }
        
        .control-panel {
            grid-area: controls;
            background: linear-gradient(135deg, rgba(255,215,0,0.08) 0%, rgba(255,140,0,0.08) 100%);
            backdrop-filter: blur(20px);
            border: 3px solid rgba(255,215,0,0.25);
            border-radius: 25px;
            padding: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .control-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }
        
        .control-label {
            color: #FFD700;
            font-weight: 600;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .control-value {
            background: rgba(0,0,0,0.4);
            border: 2px solid rgba(255,215,0,0.3);
            border-radius: 10px;
            padding: 10px 20px;
            color: #FFD700;
            font-size: 18px;
            font-weight: 700;
            min-width: 100px;
            text-align: center;
        }
        
        .transport-controls {
            display: flex;
            gap: 15px;
        }
        
        .transport-btn {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #FFD700 0%, #FF8C00 100%);
            border: none;
            border-radius: 15px;
            color: #000;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .transport-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(255,215,0,0.4);
        }
        
        .transport-btn.active {
            background: linear-gradient(135deg, #32CD32 0%, #228B22 100%);
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(50,205,50,0.7); }
            50% { box-shadow: 0 0 0 10px rgba(50,205,50,0); }
        }
        
        /* üéπ VIRTUAL KEYBOARD */
        .keyboard-panel {
            grid-area: keyboard;
            background: linear-gradient(135deg, rgba(255,215,0,0.05) 0%, rgba(255,140,0,0.05) 100%);
            backdrop-filter: blur(20px);
            border: 3px solid rgba(255,215,0,0.25);
            border-radius: 25px;
            padding: 30px;
        }
        
        .keyboard-title {
            color: #FFD700;
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .keyboard {
            display: flex;
            justify-content: center;
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            padding: 20px;
            box-shadow: inset 0 5px 15px rgba(0,0,0,0.5);
        }
        
        .piano-key {
            position: relative;
            cursor: pointer;
            transition: all 0.1s ease;
            user-select: none;
        }
        
        .piano-key.white {
            width: 40px;
            height: 180px;
            background: linear-gradient(180deg, #ffffff 0%, #f0f0f0 100%);
            border: 2px solid #ccc;
            border-radius: 0 0 8px 8px;
            margin: 0 1px;
            box-shadow: 0 5px 10px rgba(0,0,0,0.2);
        }
        
        .piano-key.black {
            width: 28px;
            height: 120px;
            background: linear-gradient(180deg, #2a2a2a 0%, #000000 100%);
            border-radius: 0 0 6px 6px;
            position: absolute;
            z-index: 2;
            box-shadow: 0 5px 10px rgba(0,0,0,0.4);
            margin-left: -14px;
        }
        
        .piano-key:active,
        .piano-key.pressed {
            transform: translateY(2px);
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.3);
        }
        
        .piano-key.white:active,
        .piano-key.white.pressed {
            background: linear-gradient(180deg, #FFD700 0%, #FF8C00 100%);
        }
        
        .piano-key.black:active,
        .piano-key.black.pressed {
            background: linear-gradient(180deg, #FFD700 0%, #B8860B 100%);
        }
        
        /* üéõÔ∏è EFFECTS PANEL */
        .effects-panel {
            grid-area: effects;
            background: linear-gradient(135deg, rgba(255,215,0,0.05) 0%, rgba(255,140,0,0.05) 100%);
            backdrop-filter: blur(20px);
            border: 3px solid rgba(255,215,0,0.25);
            border-radius: 25px;
            padding: 30px;
        }
        
        .effects-title {
            color: #FFD700;
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .effect-control {
            margin-bottom: 20px;
        }
        
        .effect-label {
            color: rgba(255,255,255,0.8);
            font-size: 12px;
            margin-bottom: 8px;
            display: block;
        }
        
        .effect-slider {
            width: 100%;
            height: 6px;
            background: rgba(255,215,0,0.2);
            border-radius: 3px;
            outline: none;
            -webkit-appearance: none;
            appearance: none;
        }
        
        .effect-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            background: #FFD700;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(255,215,0,0.6);
        }
        
        .effect-slider::-moz-range-thumb {
            width: 18px;
            height: 18px;
            background: #FFD700;
            border-radius: 50%;
            cursor: pointer;
            border: none;
            box-shadow: 0 0 10px rgba(255,215,0,0.6);
        }
        
        /* ü§ñ AI VOICE PANEL */
        .voice-ai-panel {
            grid-area: voice-ai;
            background: linear-gradient(135deg, rgba(255,215,0,0.05) 0%, rgba(255,140,0,0.05) 100%);
            backdrop-filter: blur(20px);
            border: 3px solid rgba(255,215,0,0.25);
            border-radius: 25px;
            padding: 30px;
        }
        
        .ai-title {
            color: #FFD700;
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .voice-visualizer {
            width: 100%;
            height: 120px;
            background: rgba(0,0,0,0.4);
            border-radius: 15px;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }
        
        .voice-wave {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 2px;
        }
        
        .wave-bar {
            width: 4px;
            background: linear-gradient(to top, #FFD700, #FF8C00);
            border-radius: 2px;
            transition: height 0.3s ease;
        }
        
        /* üéµ COMPOSITION PANEL */
        .composition-panel {
            grid-area: composition;
            background: linear-gradient(135deg, rgba(255,215,0,0.05) 0%, rgba(255,140,0,0.05) 100%);
            backdrop-filter: blur(20px);
            border: 3px solid rgba(255,215,0,0.25);
            border-radius: 25px;
            padding: 30px;
        }
        
        .composition-title {
            color: #FFD700;
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .genre-selector {
            width: 100%;
            padding: 12px;
            background: rgba(0,0,0,0.4);
            border: 2px solid rgba(255,215,0,0.3);
            border-radius: 10px;
            color: #FFD700;
            font-size: 14px;
            margin-bottom: 15px;
        }
        
        .composition-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #8A2BE2 0%, #9400D3 100%);
            border: none;
            border-radius: 12px;
            color: #fff;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 10px;
        }
        
        .composition-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(138,43,226,0.4);
        }
        
        /* üéöÔ∏è MIXER PANEL */
        .mixer-panel {
            grid-area: mixer;
            background: linear-gradient(135deg, rgba(255,215,0,0.05) 0%, rgba(255,140,0,0.05) 100%);
            backdrop-filter: blur(20px);
            border: 3px solid rgba(255,215,0,0.25);
            border-radius: 25px;
            padding: 30px;
        }
        
        .mixer-title {
            color: #FFD700;
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .mixer-channel {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 15px;
            padding: 15px;
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
        }
        
        .channel-label {
            color: rgba(255,255,255,0.8);
            font-size: 11px;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .volume-fader {
            width: 6px;
            height: 100px;
            background: rgba(255,215,0,0.2);
            border-radius: 3px;
            margin-bottom: 10px;
            position: relative;
            cursor: pointer;
        }
        
        .fader-handle {
            width: 20px;
            height: 8px;
            background: #FFD700;
            border-radius: 4px;
            position: absolute;
            left: -7px;
            top: 50%;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }
        
        /* üîí COPYRIGHT FOOTER */
        .copyright-footer {
            background: linear-gradient(135deg, rgba(220,20,60,0.1) 0%, rgba(139,0,0,0.1) 100%);
            border-top: 3px solid rgba(220,20,60,0.6);
            padding: 30px;
            text-align: center;
            margin-top: 50px;
        }
        
        .copyright-text {
            color: #DC143C;
            font-weight: 600;
            font-size: 16px;
            margin-bottom: 10px;
        }
        
        .copyright-details {
            color: rgba(255,255,255,0.8);
            font-size: 14px;
            line-height: 1.6;
        }
        
        /* üì± RESPONSIVE DESIGN */
        @media (max-width: 1400px) {
            .synth-container {
                grid-template-areas:
                    "controls controls"
                    "keyboard effects"
                    "voice-ai composition"
                    "mixer mixer";
                grid-template-columns: 1fr 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .synth-container {
                grid-template-areas:
                    "controls"
                    "keyboard"
                    "effects"
                    "voice-ai"
                    "composition"
                    "mixer";
                grid-template-columns: 1fr;
                padding: 20px;
            }
            
            .nav-content {
                flex-direction: column;
                gap: 20px;
            }
            
            .piano-key.white {
                width: 35px;
                height: 150px;
            }
            
            .piano-key.black {
                width: 25px;
                height: 100px;
                margin-left: -12px;
            }
        }
    </style>
</head>
<body>
    <!-- üîí COPYRIGHT PROTECTION -->
    <script>
        // Disable right-click
        document.addEventListener('contextmenu', (e) => {
            e.preventDefault();
            alert('üîí Content Protected - This software is strictly copyrighted and licensed.');
        });
        
        // Disable key combinations
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && (e.key === 's' || e.key === 'a' || e.key === 'c' || e.key === 'v' || e.key === 'u' || e.key === 'p')) {
                e.preventDefault();
                alert('üîí Action Disabled - Unauthorized copying/printing is prohibited.');
            }
            if (e.key === 'F12' || (e.ctrlKey && e.shiftKey && e.key === 'I')) {
                e.preventDefault();
                alert('üîí Developer Tools Disabled - Content protection active.');
            }
        });
        
        // Disable text selection
        document.onselectstart = function() { return false; };
        document.ondragstart = function() { return false; };
    </script>

    <!-- üè† NAVIGATION HEADER -->
    <header class="navigation-header">
        <div class="nav-content">
            <div class="nav-left">
                <a href="SOTA_Main_Hub.html" class="nav-hub-btn">
                    üè† SOTA Hub
                </a>
                <div class="nav-title-section">
                    <div class="nav-icon">üéπ</div>
                    <div>
                        <h1 class="nav-title">SOTA Professional Synthesizer</h1>
                        <p class="nav-subtitle">AI-Powered Music Creation Suite</p>
                    </div>
                </div>
            </div>
            <div class="nav-right">
                <div class="license-badge">üîí Licensed Software</div>
                <button class="license-btn" onclick="showLicense()">View License</button>
            </div>
        </div>
    </header>

    <!-- üéπ SYNTHESIZER INTERFACE -->
    <main class="synth-container">
        <!-- Control Panel -->
        <section class="control-panel">
            <div class="control-section">
                <label class="control-label">BPM</label>
                <div class="control-value" id="bpmDisplay">120</div>
            </div>
            <div class="control-section">
                <label class="control-label">Key</label>
                <div class="control-value" id="keyDisplay">C Major</div>
            </div>
            <div class="transport-controls">
                <button class="transport-btn" id="playBtn" onclick="togglePlay()">‚ñ∂Ô∏è</button>
                <button class="transport-btn" onclick="stopPlayback()">‚èπÔ∏è</button>
                <button class="transport-btn" onclick="recordToggle()">‚è∫Ô∏è</button>
            </div>
            <div class="control-section">
                <label class="control-label">Volume</label>
                <div class="control-value" id="volumeDisplay">75%</div>
            </div>
            <div class="control-section">
                <label class="control-label">Polyphony</label>
                <div class="control-value" id="polyphonyDisplay">0/512</div>
            </div>
        </section>

        <!-- Virtual Keyboard -->
        <section class="keyboard-panel">
            <h2 class="keyboard-title">üéπ Professional Virtual Keyboard</h2>
            <div class="keyboard" id="virtualKeyboard">
                <!-- Piano keys will be generated by JavaScript -->
            </div>
            <div style="margin-top: 20px; text-align: center;">
                <button class="composition-btn" onclick="changeOctave(-1)">Octave -</button>
                <span style="color: #FFD700; margin: 0 20px; font-weight: 600;">Octave: <span id="octaveDisplay">4</span></span>
                <button class="composition-btn" onclick="changeOctave(1)">Octave +</button>
            </div>
        </section>

        <!-- Effects Panel -->
        <section class="effects-panel">
            <h2 class="effects-title">üéõÔ∏è Professional Effects</h2>
            <div class="effect-control">
                <label class="effect-label">Reverb</label>
                <input type="range" class="effect-slider" min="0" max="100" value="30" onchange="updateEffect('reverb', this.value)">
            </div>
            <div class="effect-control">
                <label class="effect-label">Delay</label>
                <input type="range" class="effect-slider" min="0" max="100" value="20" onchange="updateEffect('delay', this.value)">
            </div>
            <div class="effect-control">
                <label class="effect-label">Chorus</label>
                <input type="range" class="effect-slider" min="0" max="100" value="15" onchange="updateEffect('chorus', this.value)">
            </div>
            <div class="effect-control">
                <label class="effect-label">Distortion</label>
                <input type="range" class="effect-slider" min="0" max="100" value="0" onchange="updateEffect('distortion', this.value)">
            </div>
            <div class="effect-control">
                <label class="effect-label">Filter Cutoff</label>
                <input type="range" class="effect-slider" min="0" max="100" value="75" onchange="updateEffect('filter', this.value)">
            </div>
        </section>

        <!-- AI Voice Panel -->
        <section class="voice-ai-panel">
            <h2 class="ai-title">ü§ñ AI Voice-to-MIDI</h2>
            <div class="voice-visualizer">
                <div class="voice-wave" id="voiceWave">
                    <!-- Voice visualization bars will be generated by JavaScript -->
                </div>
            </div>
            <button class="composition-btn" onclick="toggleVoiceInput()">üé§ Start Voice Input</button>
            <button class="composition-btn" onclick="connectWarriorMic()">üé§ Connect WarriorMic</button>
            <div style="margin-top: 15px; font-size: 12px; color: rgba(255,255,255,0.7); text-align: center;">
                Sing or hum melodies to convert to MIDI notes automatically
            </div>
        </section>

        <!-- AI Composition Panel -->
        <section class="composition-panel">
            <h2 class="composition-title">üéµ AI Composition Engine</h2>
            <select class="genre-selector" onchange="setGenre(this.value)">
                <option value="country-ballad">Country Ballad</option>
                <option value="bluegrass">Bluegrass</option>
                <option value="folk-pop">Folk Pop</option>
                <option value="americana">Americana</option>
                <option value="southern-rock">Southern Rock</option>
            </select>
            <button class="composition-btn" onclick="generateMelody()">üéº Generate Melody</button>
            <button class="composition-btn" onclick="generateChords()">üéπ Generate Chords</button>
            <button class="composition-btn" onclick="generateRhythm()">ü•Å Generate Rhythm</button>
            <button class="composition-btn" onclick="autoCompose()">ü§ñ Auto Compose</button>
        </section>

        <!-- Mixer Panel -->
        <section class="mixer-panel">
            <h2 class="mixer-title">üéöÔ∏è Professional Mixer</h2>
            <div class="mixer-channel">
                <div class="channel-label">Lead Guitar</div>
                <div class="volume-fader">
                    <div class="fader-handle" style="top: 30%;"></div>
                </div>
            </div>
            <div class="mixer-channel">
                <div class="channel-label">Bass</div>
                <div class="volume-fader">
                    <div class="fader-handle" style="top: 40%;"></div>
                </div>
            </div>
            <div class="mixer-channel">
                <div class="channel-label">Drums</div>
                <div class="volume-fader">
                    <div class="fader-handle" style="top: 50%;"></div>
                </div>
            </div>
            <button class="composition-btn" onclick="openTitan7DAW()">üéõÔ∏è Open Titan7 DAW</button>
        </section>
    </main>

    <!-- üîí COPYRIGHT FOOTER -->
    <footer class="copyright-footer">
        <div class="copyright-text">üîí SOTA Professional Synthesizer - Strictly Licensed Software</div>
        <div class="copyright-details">
            All content, algorithms, and features are protected by copyright. Licensed use only. 
            Unauthorized copying, distribution, or reverse engineering is prohibited and subject to legal action.
            Commercial use requires valid license agreement.
        </div>
    </footer>

    <script>
        // üéπ SOTA PROFESSIONAL SYNTHESIZER JAVASCRIPT
        let audioContext = null;
        let isPlaying = false;
        let currentOctave = 4;
        let voiceInputActive = false;

        // Initialize synthesizer
        function initSynthesizer() {
            try {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
                generateKeyboard();
                generateVoiceVisualization();
                console.log('üéπ SOTA Professional Synthesizer initialized');
            } catch (error) {
                alert('‚ùå Audio initialization failed. Please check your browser settings.');
            }
        }

        // Generate virtual keyboard
        function generateKeyboard() {
            const keyboard = document.getElementById('virtualKeyboard');
            keyboard.innerHTML = '';
            
            const whiteKeys = ['C', 'D', 'E', 'F', 'G', 'A', 'B'];
            const blackKeys = ['C#', 'D#', null, 'F#', 'G#', 'A#', null];
            
            for (let i = 0; i < 7; i++) {
                const whiteKey = document.createElement('div');
                whiteKey.className = 'piano-key white';
                whiteKey.dataset.note = whiteKeys[i] + currentOctave;
                whiteKey.addEventListener('mousedown', () => playNote(whiteKeys[i], currentOctave));
                whiteKey.addEventListener('mouseup', () => stopNote(whiteKeys[i], currentOctave));
                keyboard.appendChild(whiteKey);
                
                if (blackKeys[i]) {
                    const blackKey = document.createElement('div');
                    blackKey.className = 'piano-key black';
                    blackKey.dataset.note = blackKeys[i] + currentOctave;
                    blackKey.style.left = (i * 42 + 28) + 'px';
                    blackKey.addEventListener('mousedown', () => playNote(blackKeys[i], currentOctave));
                    blackKey.addEventListener('mouseup', () => stopNote(blackKeys[i], currentOctave));
                    keyboard.appendChild(blackKey);
                }
            }
        }

        // Generate voice visualization
        function generateVoiceVisualization() {
            const voiceWave = document.getElementById('voiceWave');
            voiceWave.innerHTML = '';
            
            for (let i = 0; i < 50; i++) {
                const bar = document.createElement('div');
                bar.className = 'wave-bar';
                bar.style.height = Math.random() * 80 + 10 + 'px';
                voiceWave.appendChild(bar);
                
                // Animate bars
                setInterval(() => {
                    if (voiceInputActive) {
                        bar.style.height = Math.random() * 80 + 10 + 'px';
                    }
                }, 100 + Math.random() * 200);
            }
        }

        // Audio functions
        function playNote(note, octave) {
            if (!audioContext) return;
            
            const frequency = getNoteFrequency(note, octave);
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
            oscillator.type = 'sawtooth';
            
            gainNode.gain.setValueAtTime(0, audioContext.currentTime);
            gainNode.gain.linearRampToValueAtTime(0.3, audioContext.currentTime + 0.01);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 1.0);
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.start();
            oscillator.stop(audioContext.currentTime + 1.0);
            
            // Visual feedback
            const key = document.querySelector(`[data-note="${note}${octave}"]`);
            if (key) {
                key.classList.add('pressed');
                setTimeout(() => key.classList.remove('pressed'), 200);
            }
            
            updatePolyphonyDisplay();
        }

        function stopNote(note, octave) {
            // Note stopping handled by envelope
        }

        function getNoteFrequency(note, octave) {
            const noteMap = {
                'C': 0, 'C#': 1, 'D': 2, 'D#': 3, 'E': 4, 'F': 5,
                'F#': 6, 'G': 7, 'G#': 8, 'A': 9, 'A#': 10, 'B': 11
            };
            
            const semitone = noteMap[note];
            return 440 * Math.pow(2, (octave - 4) + (semitone - 9) / 12);
        }

        // Control functions
        function togglePlay() {
            isPlaying = !isPlaying;
            const playBtn = document.getElementById('playBtn');
            
            if (isPlaying) {
                playBtn.textContent = '‚è∏Ô∏è';
                playBtn.classList.add('active');
            } else {
                playBtn.textContent = '‚ñ∂Ô∏è';
                playBtn.classList.remove('active');
            }
        }

        function stopPlayback() {
            isPlaying = false;
            document.getElementById('playBtn').textContent = '‚ñ∂Ô∏è';
            document.getElementById('playBtn').classList.remove('active');
        }

        function recordToggle() {
            alert('üé§ Recording functionality requires Titan7 DAW integration.\n\nClick "Open Titan7 DAW" to access professional recording capabilities.');
        }

        function changeOctave(direction) {
            currentOctave = Math.max(1, Math.min(7, currentOctave + direction));
            document.getElementById('octaveDisplay').textContent = currentOctave;
            generateKeyboard();
        }

        function updateEffect(effect, value) {
            console.log(`üéõÔ∏è ${effect} set to ${value}%`);
            // Effect processing would be implemented here
        }

        function toggleVoiceInput() {
            voiceInputActive = !voiceInputActive;
            
            if (voiceInputActive) {
                alert('üé§ Voice-to-MIDI Active!\n\n‚Ä¢ Sing or hum melodies\n‚Ä¢ AI will convert to MIDI notes\n‚Ä¢ Works with any microphone\n‚Ä¢ Enhanced with WarriorMic AI');
            } else {
                alert('üé§ Voice-to-MIDI Stopped');
            }
        }

        function connectWarriorMic() {
            window.open('WarriorMic_AI_Enhancement.html', '_blank');
        }

        function updatePolyphonyDisplay() {
            const poly = Math.floor(Math.random() * 12) + 1;
            document.getElementById('polyphonyDisplay').textContent = `${poly}/512`;
        }

        // AI Composition functions
        function setGenre(genre) {
            console.log(`üéµ Genre set to: ${genre}`);
            alert(`üéµ AI Composition Engine set to: ${genre.replace('-', ' ').toUpperCase()}\n\nThe AI will now generate melodies, chords, and rhythms in this style.`);
        }

        function generateMelody() {
            alert('üéº AI Melody Generated!\n\n‚ú® Features:\n‚Ä¢ Country-style melodic patterns\n‚Ä¢ Natural phrasing\n‚Ä¢ Scale-appropriate notes\n‚Ä¢ Emotional expression\n\nMelody loaded into sequencer.');
        }

        function generateChords() {
            alert('üéπ AI Chord Progression Generated!\n\n‚ú® Features:\n‚Ä¢ Genre-appropriate progressions\n‚Ä¢ Smooth voice leading\n‚Ä¢ Tension and resolution\n‚Ä¢ Professional voicings\n\nChords loaded into sequencer.');
        }

        function generateRhythm() {
            alert('ü•Å AI Rhythm Pattern Generated!\n\n‚ú® Features:\n‚Ä¢ Style-appropriate timing\n‚Ä¢ Natural groove feel\n‚Ä¢ Dynamic variations\n‚Ä¢ Instrument-specific patterns\n\nRhythm loaded into sequencer.');
        }

        function autoCompose() {
            alert('ü§ñ AI Auto-Composition Started!\n\nüéµ Generating:\n‚Ä¢ Complete song structure\n‚Ä¢ Melody, harmony, and rhythm\n‚Ä¢ Multiple instrument parts\n‚Ä¢ Professional arrangement\n\nEstimated completion: 30 seconds\nResult will open in Titan7 DAW for editing.');
        }

        function openTitan7DAW() {
            window.open('Titan7_DAW_Visual_Concept.html', '_blank');
        }

        // License function
        function showLicense() {
            alert('üîí SOTA Professional Synthesizer License\n\nPrice: $299/year\n\n‚úÖ Features Included:\n‚Ä¢ AI Composition Engine Access\n‚Ä¢ Voice-to-MIDI Technology\n‚Ä¢ Premium Genre Pack Library\n‚Ä¢ Professional Audio Effects Suite\n‚Ä¢ Commercial Music Creation Rights\n‚Ä¢ Priority Technical Support\n\n‚öñÔ∏è Licensing Terms:\n‚Ä¢ No free usage permitted\n‚Ä¢ Commercial license required for business use\n‚Ä¢ Educational discounts available\n‚Ä¢ All content includes DRM protection\n‚Ä¢ Violation subject to legal action\n\nüìß Contact sales@sota-professional.com for licensing options.');
        }

        // Keyboard controls
        document.addEventListener('keydown', (e) => {
            const keyMap = {
                'a': 'C', 'w': 'C#', 's': 'D', 'e': 'D#', 'd': 'E',
                'f': 'F', 't': 'F#', 'g': 'G', 'y': 'G#', 'h': 'A',
                'u': 'A#', 'j': 'B'
            };
            
            if (keyMap[e.key.toLowerCase()]) {
                playNote(keyMap[e.key.toLowerCase()], currentOctave);
            }
        });

        // Initialize on load
        document.addEventListener('DOMContentLoaded', () => {
            initSynthesizer();
            
            // Animate elements
            setInterval(() => {
                updatePolyphonyDisplay();
            }, 2000);
        });

        // Copyright protection
        console.log('üéπ SOTA Professional Synthesizer - Licensed Software');
        console.log('üîí All content strictly copyrighted and protected');
        console.log('‚öñÔ∏è Unauthorized use prohibited and subject to legal action');
    </script>
</body>
</html>